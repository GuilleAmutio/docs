---
title: 'Deploying to Cloudflare Workers'
metaTitle: 'Deploying to Cloudflare Workers'
metaDescription: 'Learn how to deploy a TypeScript application to Cloudflare Workers'
---

<TopBlock>

This guide will take you through the steps of deploying an application to Cloudflare Workers.

</TopBlock>

## Prerequisites

- Free [Cloudflare Workers](https://workers.cloudflare.com/) account
- Free [Prisma Data Platform](https://cloudprojects.prisma.io) account
- Node.js & NPM installed
-

## Project configuration

We created a [deployment example](https://github.com/prisma/deployment-example-cloudflare-workers) with a minimal setup you can use as a reference when deploying to Cloudflare workers.

### Create an Accelerate connection string

1. Navigate to the [Prisma Data Platform](https://cloudprojects.prisma.io/) and sign-in
1. Create a new project
1. Click the **Configure Accelerate**
1. Provide your database's connection string and select the region closest to your database
1. Click the **Configure Accelerate** button
1. Create and copy the API key
1. Copy the Accelerate connection string and replace `__API_KEY__` with your API key you created in the previous step

### Update your project

1. Create a new environment variable `DIRECT_DATABASE_URL` and set the Accelerate connection string as it's value

```diff file=.env
DATABASE_URL="..."
+DIRECT_DATABASE_URL="prisma://accelerate.prisma-data.net/?api_key=__API_KEY__"
```

1. Update your environment variables in `wrangler.toml` by adding the `DIRECT_DATABASE_URL` variable

```diff file="wrangler.toml"
   + [vars]
 + DIRECT_DATABASE_URL = "prisma://accelerate.prisma-data.net/?api_key=•••••••••••••••••"
```

1. Generate Prisma Client that connects through Accelerate over HTTP:

   ```terminal
   npx prisma generate --data-proxy
   ```

   The generated Prisma Client has a smaller bundle size and is optimized for edge environments such as Cloudflare Workers.

   The smaller bundle size is due to the fact that the interfaces talking to your database (the [Query Engine](https://www.prisma.io/docs/concepts/components/prisma-engines/query-engine)) are no longer bundled with Prisma Client as this logic is handled by Accelerate.

1. If you defined your database URL in Prisma Client's constructor, update it to use the `DIRECT_DATABASE_URL` variable

```diff file="prisma.ts"
const prisma = new PrismaClient({
  datasources: {
    db: {
-        url: env.DATABASE_URL
+        url: env.DIRECT_DATABASE_URL
    }
  }
})
```

## Deploy your application

You can deploy to Cloudflare Workers using the [Wrangler CLI](https://developers.cloudflare.com/workers/wrangler/get-started/) by running `wrangler publish` using the command line.
